<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Extraction d&#39;information sur image (Chest-Reco) | renauxv</title>
<meta name="keywords" content="Python, Automatisation">
<meta name="description" content="Le jeu Garry&rsquo;s Mod est une plateforme qui propose de nombreux mini jeux.
Cet article présente la mise en place d’un système d’extraction  d’informations à partir de plusieurs captures d’écran d’un coffre du jeux naruto RP, afin de connaître automatiquement le contenu de ce coffre.
Cet article expliquera en détail la mise en place de ce projet Python, disponible sur GitHub : dépôt GitHub.
Objectif du projet
L’objectif est d’automatiser l’analyse visuelle des coffres à l’aide d’un
script Python. Ce projet met en œuvre des techniques de traitement   d’image et d’extraction de texte, tout en gardant à l’esprit la  nécessité de concevoir une solution légère et peu consommatrice en ressources.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/chest_recognition/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/chest_recognition/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="renauxv (Alt + H)">renauxv</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Extraction d&#39;information sur image (Chest-Reco)
    </h1>
    <div class="post-meta"><span title='2025-10-27 00:00:00 +0000 UTC'>October 27, 2025</span>&nbsp;·&nbsp;<span>6 min</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#objectif-du-projet" aria-label="Objectif du projet">Objectif du projet</a></li>
                <li>
                    <a href="#code-source" aria-label="Code source">Code source</a></li>
                <li>
                    <a href="#description-du-probl%c3%a8me" aria-label="Description du problème">Description du problème</a><ul>
                        
                <li>
                    <a href="#exemple-de-coffre" aria-label="Exemple de coffre">Exemple de coffre</a></li></ul>
                </li>
                <li>
                    <a href="#fragmentation-du-probl%c3%a8me" aria-label="Fragmentation du problème">Fragmentation du problème</a></li></ul>
                    
                <li>
                    <a href="#architecture-du-projet" aria-label="Architecture du projet">Architecture du projet</a><ul>
                        <ul>
                        
                <li>
                    <a href="#organisation-des-fichiers-de-test" aria-label="Organisation des fichiers de test">Organisation des fichiers de test</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#extraction-des-items" aria-label="Extraction des items">Extraction des items</a><ul>
                        
                <li>
                    <a href="#contrainte-de-lextraction" aria-label="Contrainte de l&rsquo;extraction">Contrainte de l&rsquo;extraction</a></li>
                <li>
                    <a href="#mise-en-place-de-lextraction-dobjet" aria-label="Mise en place de l&rsquo;extraction d&rsquo;objet">Mise en place de l&rsquo;extraction d&rsquo;objet</a></li></ul>
                </li>
                <li>
                    <a href="#extraction-du-nombre" aria-label="Extraction du nombre">Extraction du nombre</a></li>
                <li>
                    <a href="#traitement-final" aria-label="Traitement final">Traitement final</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Le jeu <strong>Garry&rsquo;s Mod</strong> est une plateforme qui propose de nombreux <em>mini jeux</em>.<br>
Cet article présente la mise en place d’un système d’<strong>extraction  d’informations</strong> à partir de plusieurs <strong>captures d’écran</strong> d’un coffre du jeux <em>naruto RP</em>, afin de connaître automatiquement le contenu de ce coffre.</p>
<p>Cet article expliquera en détail la mise en place de ce projet Python, disponible sur GitHub : <a href="https://github.com/titusse3/chest-reco">dépôt GitHub</a>.</p>
<h2 id="objectif-du-projet">Objectif du projet<a hidden class="anchor" aria-hidden="true" href="#objectif-du-projet">#</a></h2>
<p>L’objectif est d’automatiser l’analyse visuelle des coffres à l’aide d’un<br>
script <em>Python</em>. Ce projet met en œuvre des techniques de <strong>traitement   d’image</strong> et d’<strong>extraction de texte</strong>, tout en gardant à l’esprit la  nécessité de concevoir une solution légère et peu consommatrice en ressources.</p>
<h2 id="code-source">Code source<a hidden class="anchor" aria-hidden="true" href="#code-source">#</a></h2>
<p>Le projet complet est disponible sur <strong>GitHub</strong> :
<a href="https://github.com/titusse3/chest-reco">dépôt GitHub du projet</a></p>
<h2 id="description-du-problème">Description du problème<a hidden class="anchor" aria-hidden="true" href="#description-du-problème">#</a></h2>
<p>Dans le mini jeu <em>Naruto RP</em>, il existe des coffres dans lesquels il est  possible de stocker des ressources.</p>
<p>Très rapidement, une question se pose : <em>combien d’éléments ai-je actuellement dans mon coffre</em> ?</p>
<p>Comme aucune <em>API</em> n’est disponible, l’objectif de ce mini projet est de  récupérer automatiquement le contenu d’un coffre à partir de captures  d’écran.</p>
<h3 id="exemple-de-coffre">Exemple de coffre<a hidden class="anchor" aria-hidden="true" href="#exemple-de-coffre">#</a></h3>
<p>Voici à quoi ressemble le contenu complet d’un coffre :</p>
<p><img alt="Exemple de contenu du coffre" loading="lazy" src="https://i.imgur.com/AWLVAeL.gif#center"></p>
<h2 id="fragmentation-du-problème">Fragmentation du problème<a hidden class="anchor" aria-hidden="true" href="#fragmentation-du-problème">#</a></h2>
<p>Le problème a été découpé de la manière suivante :</p>
<ol>
<li><strong>Extraction</strong> d’une sous partie de l’image contenant les informations    pertinentes.</li>
<li><strong>Récupération</strong> du nombre présent sur la zone extraite.</li>
<li><strong>Vérification</strong> des données obtenues et mise en forme du résultat.</li>
</ol>
<p>L’objectif final est que <strong>toutes les informations soient extraites  automatiquement</strong>, sans nécessiter aucune interaction humaine.</p>
<h1 id="architecture-du-projet">Architecture du projet<a hidden class="anchor" aria-hidden="true" href="#architecture-du-projet">#</a></h1>
<p>L’architecture de ce projet s’inspire de plusieurs blogs et documentations  techniques. Elle suit une structure <strong>standard</strong> recommandée par <a href="https://packaging.python.org/en/latest/guides/writing-pyproject-toml/"><em>pyproject</em></a>.</p>
<pre tabindex="0"><code>.
├── src/
│   ├── modules1/
│   ├── ...
│   ├── modulesN/
│   ├── ressources/
│   └── main.py
└── tests/
    ├── integration_tests/
    └── unit_tests/
</code></pre><p>Cette organisation permet d’exécuter chaque test depuis n’importe quel  emplacement tout en gardant un accès direct aux modules à tester.  Pour cela, des fichiers <code>__init__.py</code> sont présents dans les dossiers de  tests afin d’ajuster correctement le chemin d’import des modules.</p>
<h3 id="organisation-des-fichiers-de-test">Organisation des fichiers de test<a hidden class="anchor" aria-hidden="true" href="#organisation-des-fichiers-de-test">#</a></h3>
<pre tabindex="0"><code>tests/
    ├── integration_tests/
    │   ├── __init__.py
    |   └── ...
    └── unit_tests/
        ├── __init__.py
        └── ...
</code></pre><p>Le contenu de ces fichiers <code>__init__.py</code> :</p>
<pre tabindex="0"><code># __init__.py

import sys
from os.path import dirname, join, normpath

THIS_DIR = dirname(__file__)
PROJ_DIR = normpath(join(THIS_DIR, &#39;..&#39;, &#39;..&#39;, &#39;src&#39;))
</code></pre><p>Grâce au module <code>os.path</code>, le répertoire d’exécution est fixé à celui où se  trouvent les <em>sources</em>. Cela permet d’importer facilement toutes les  dépendances nécessaires, sans configuration complexe.</p>
<h1 id="extraction-des-items">Extraction des items<a hidden class="anchor" aria-hidden="true" href="#extraction-des-items">#</a></h1>
<p>L’objectif, pour chaque objet donné, est d’extraire la partie de l’image représentant cet objet, à condition que celui ci soit bien présent dans  l’image.</p>
<p>Pour cela, le module  <a href="https://opencv.org/"><code>opencv</code></a> est utilisé. Elle permet de <strong>rechercher une “template”</strong> à l’intérieur d’une image, sans aucune <strong>ia</strong>.</p>
<p>Voici un exemple simple : une recherche de pièces a été effectuée sur  l’image de gauche. Le résultat, visible à droite, montre les correspondances  encadrées en rouge.</p>
<p><img alt="Exemple d’utilisation d’OpenCV" loading="lazy" src="https://i.imgur.com/pgQ9LMu.jpeg#center"><br>
<em>Image tirée de la documentation officielle d’OpenCV.</em></p>
<h2 id="contrainte-de-lextraction">Contrainte de l&rsquo;extraction<a hidden class="anchor" aria-hidden="true" href="#contrainte-de-lextraction">#</a></h2>
<p>Tout d&rsquo;abord, il est essentiel que le motif utilisé ait les mêmes dimensions que ses occurrences possibles dans l’image à analyser.</p>
<p>Cette contrainte a forcé l’application à adopter des dimensions spécifiques pour les images d&rsquo;entrée. Les <em>captures d’écran</em> du contenu du coffre doivent donc être uniformisées, ici au format <code>1920x1080</code>.</p>
<p>Pour les images ne respectant pas cette dimension, un traitement via <code>OpenCV</code> permet de les redimensionner, assurant ainsi une cohérence entre toutes les entrées.</p>
<h2 id="mise-en-place-de-lextraction-dobjet">Mise en place de l&rsquo;extraction d&rsquo;objet<a hidden class="anchor" aria-hidden="true" href="#mise-en-place-de-lextraction-dobjet">#</a></h2>
<p>Prenons par exemple l’extraction <em>des planches de bois</em>, donnée par l’image :</p>
<p><img alt="Image de planche de bois" loading="lazy" src="https://i.imgur.com/bmqBWEH.jpeg#center"></p>
<p>Ici, on peut voir qu’il y a le nombre de cet objet en haut à droite, ce qui sera le cas pour n’importe quel autre objet.
Cependant, lorsque l’on souhaite rechercher combien de <em>planches de bois</em> il y a dans l’image, nous devons rechercher l’objet <em>planches de bois</em> sans ce nombre.
C’est pour cela que le <em>template</em> recherché sera l’image de l’objet seul, sans le nombre.
Typiquement, pour la planche de bois, il s’agira de l’image suivante :</p>
<p><img alt="Template de l&rsquo;objet, planche de bois" loading="lazy" src="https://i.imgur.com/57bMFvd.png#center"></p>
<p>Une fois ce <em>template</em> obtenu, on peut assez simplement rechercher l’objet dans l’image d’un coffre à l’aide du code Python ci-dessous :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">import</span> cv2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Le pourcentage minimal de ressemblance souhaité entre la détection et le template</span>
</span></span><span style="display:flex;"><span>DEFAULT_TEMPLATE_MATCHING_THRESHOLD <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.8</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    img <span style="color:#f92672">=</span> cv2<span style="color:#f92672">.</span>imread(<span style="color:#e6db74">&#34;coffre.jpg&#34;</span>)  <span style="color:#75715e"># Image du coffre</span>
</span></span><span style="display:flex;"><span>    template <span style="color:#f92672">=</span> cv2<span style="color:#f92672">.</span>imread(<span style="color:#e6db74">&#34;item.png&#34;</span>)  <span style="color:#75715e"># Image du template (ex: planche de bois)</span>
</span></span><span style="display:flex;"><span>    template_height, template_width <span style="color:#f92672">=</span> template<span style="color:#f92672">.</span>shape[:<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    template_matching <span style="color:#f92672">=</span> cv2<span style="color:#f92672">.</span>matchTemplate(template, img, cv2<span style="color:#f92672">.</span>TM_CCOEFF_NORMED)
</span></span><span style="display:flex;"><span>    _, max_val, _, max_loc <span style="color:#f92672">=</span> cv2<span style="color:#f92672">.</span>minMaxLoc(template_matching)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> max_val <span style="color:#f92672">&gt;=</span> DEFAULT_TEMPLATE_MATCHING_THRESHOLD:
</span></span><span style="display:flex;"><span>        x, y <span style="color:#f92672">=</span> max_loc
</span></span><span style="display:flex;"><span>        detection <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;TOP_LEFT_X&#34;</span>: x,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;TOP_LEFT_Y&#34;</span>: y,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;BOTTOM_RIGHT_X&#34;</span>: x <span style="color:#f92672">+</span> template_width,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;BOTTOM_RIGHT_Y&#34;</span>: y <span style="color:#f92672">+</span> template_height,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;MATCH_VALUE&#34;</span>: max_val
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        x1, y1 <span style="color:#f92672">=</span> detection[<span style="color:#e6db74">&#34;TOP_LEFT_X&#34;</span>], detection[<span style="color:#e6db74">&#34;TOP_LEFT_Y&#34;</span>]
</span></span><span style="display:flex;"><span>        x2, y2 <span style="color:#f92672">=</span> detection[<span style="color:#e6db74">&#34;BOTTOM_RIGHT_X&#34;</span>], detection[<span style="color:#e6db74">&#34;BOTTOM_RIGHT_Y&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        cv2<span style="color:#f92672">.</span>rectangle(img, (x1, y1), (x2, y2), (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">255</span>), thickness<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>        cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#34;Detection&#34;</span>, img)
</span></span><span style="display:flex;"><span>        cv2<span style="color:#f92672">.</span>waitKey(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        cv2<span style="color:#f92672">.</span>destroyAllWindows()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Aucune correspondance trouvée.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><p>On obtient alors, sur un coffre, le résultat suivant :</p>
<p><img alt="Résultat de la recherche" loading="lazy" src="https://i.imgur.com/CAlwlTU.jpeg#center"></p>
<p>Une fois l’objet trouvé, il suffit d’ajouter un offset de hauteur d’environ 45 pixels pour inclure le nombre associé.
Grâce à cela, il devient assez simple de récupérer à la fois l’objet et sa quantité en une seule image.</p>
<h1 id="extraction-du-nombre">Extraction du nombre<a hidden class="anchor" aria-hidden="true" href="#extraction-du-nombre">#</a></h1>
<p>Pour la quantité d’un objet, il existe deux cas :</p>
<ul>
<li>La quantité est égale à 1 ; dans ce cas, aucune quantité n’est affichée.</li>
</ul>
<p><img alt="Image de planche de bois" loading="lazy" src="https://i.imgur.com/hBwj3f0.png#center"></p>
<ul>
<li>La quantité est supérieure ou égale à 2 ; dans ce cas, la quantité est affichée sous la forme <code>x</code> suivie du nombre correspondant.</li>
</ul>
<p><img alt="Image de planche de bois" loading="lazy" src="https://i.imgur.com/bmqBWEH.jpeg#center"></p>
<p>L’objectif, afin de rendre la reconnaissance du nombre aussi simple que possible, est d’extraire la quantité lorsqu’elle est présente dans l’image.
Pour cela, on effectue une nouvelle recherche de template dont le modèle est le caractère <code>x</code> placé avant le nombre.
Si le <code>x</code> n’est pas trouvé, alors l’objet est présent en un seul exemplaire.
Dans le cas contraire, on extrait le nombre de l’image à partir du <code>x</code> détecté,
en ajoutant un <em>offset</em> comme précédemment.</p>
<p>Ce qui nous donne, dans notre cas :</p>
<img src="https://i.imgur.com/NQDf7lK.png" alt="Résultat de l'extraction du nombre" width="250" style="display:block;margin:0 auto;" />
<p>Une fois cette partie extraite, on obtient une image contenant uniquement le nombre, que l’on peut transmettre à un modèle de reconnaissance de texte.
Ce projet utilise <code>easyocr</code>, un module de reconnaissance de texte sur image.
Après quelques prétraitements, notamment la correction des symboles <code>1</code>
souvent reconnus comme des <code>l</code> à cause de la police d’écriture,
on peut finalement identifier correctement le nombre affiché.</p>
<h1 id="traitement-final">Traitement final<a hidden class="anchor" aria-hidden="true" href="#traitement-final">#</a></h1>
<p>Un coffre étant représenter par plusieur capture de celui-ci, un traitement multi-thread est mis en place. Pour chaqu&rsquo;une des images, une recherche des tous les items possible est faite avec la <code>pipeline</code> suivante :</p>
<ol>
<li>
<p><strong>Détection des objets</strong>
À l’aide de la recherche de <em>template</em> (<code>cv2.matchTemplate</code>), on identifie la présence des objets (ex. : planches de bois) dans l’image du coffre.</p>
</li>
<li>
<p><strong>Extraction du nombre associé</strong>
Une fois l’objet trouvé, une nouvelle recherche est effectuée pour détecter le symbole <strong><code>x</code></strong> précédant la quantité.
Si ce symbole est présent, la portion d’image correspondante au nombre est extraite.</p>
</li>
<li>
<p><strong>Reconnaissance du nombre</strong>
L’image extraite du nombre est ensuite transmise à <code>easyocr</code>, un module de reconnaissance de texte.
Après quelques prétraitements (notamment la correction des <code>1</code> mal reconnus comme <code>l</code>), on obtient la quantité exacte de l’objet.</p>
</li>
</ol>
<p>Une vérification finale est mise en place afin de s’assurer qu’aucun item n’a été détecté sur plusieurs images différentes.
Si c’est le cas et que les deux quantités diffèrent, une erreur est levée.
Dans le cas contraire, le duplicat est supprimé.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/python/">Python</a></li>
      <li><a href="http://localhost:1313/tags/automatisation/">Automatisation</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="http://localhost:1313/posts/rag_definition/">
    <span class="title">Next »</span>
    <br>
    <span>Génération Augmentée de récupération (RAG)</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>Renaux Verdiere Theo</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
